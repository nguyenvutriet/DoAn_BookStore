<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/admin.css">
    <title>User Detail</title>
</head>
<body>

<header th:replace="admin-dashboard :: header"></header>

<h1 class="dashboard-title">Thông tin tài khoản</h1>

<div class="frame-box" style="width: 70%; margin:auto;">

    <!-- USER INFO -->
    <h3>Thông tin tài khoản</h3>
    <p><strong>Tên đăng nhập:</strong> <span th:text="${user.userName}"></span></p>
    <p><strong>Họ và tên:</strong> <span th:text="${user.fullName}"></span></p>
    <p><strong>Vai trò:</strong> <span th:text="${user.role}"></span></p>
    <p><strong>Ngày đăng ký:</strong> <span th:text="${user.registrationDate}"></span></p>

    <hr>

    <!-- CUSTOMER INFO -->
    <h3>Thông tin khách hàng</h3>

    <!-- Nếu user không liên kết customer -->
    <div th:if="${user.customer == null}">
        <p style="color: red;"><i>Không có thông tin khách hàng.</i></p>
    </div>

    <!-- Nếu user có customer -->
    <div th:if="${user.customer != null}">
        <p><strong>ID khách hàng:</strong> <span th:text="${user.customer.customerId}"></span></p>
        <p><strong>Họ và tên:</strong> <span th:text="${user.customer.fullName}"></span></p>
        <p><strong>Email:</strong> <span th:text="${user.customer.email}"></span></p>
        <p><strong>Số điện thoại:</strong> <span th:text="${user.customer.phone}"></span></p>
        <p><strong>Địa chỉ:</strong> <span th:text="${user.customer.address}"></span></p>
        <p><strong>Ngày sinh:</strong> <span th:text="${user.customer.dateOfBirth}"></span></p>

        <p>
            <a th:href="@{'/admin/customers/' + ${user.customer.customerId}}">Xem chi tiết khách hàng</a>
        </p>
    </div>

    <hr>

    <p>
        <a href="/admin/users">Back</a> |
        <a th:href="@{'/admin/users/delete/' + ${user.userName}}"
           onclick="return confirm('Bạn có chắc chắn muốn xóa tài khoản này?')"
           style="color:red;">Delete</a>
    </p>
</div>

<footer class="admin-footer">© 2025 UTE BookStore Admin</footer>

</body>
</html>
