<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Xác nhận đơn hàng</title>
</head>

<body style="margin:0; padding:0; background:#f5f5f5; font-family:Arial, sans-serif;">

<table width="100%" cellpadding="0" cellspacing="0" style="padding:20px 0;">
    <tr>
        <td align="center">

            <table width="600" cellpadding="0" cellspacing="0"
                   style="background:#ffffff; border-radius:8px; overflow:hidden;">

                <!-- HEADER -->
                <tr>
                    <td style="background:#1976d2; color:white; padding:20px; font-size:22px; font-weight:bold;">
                        Xác nhận đơn hàng #<span th:text="${order.orderId}">DH001</span>
                    </td>
                </tr>

                <!-- CUSTOMER + ORDER INFO -->
                <tr>
                    <td style="padding:20px; font-size:14px; color:#333;">
                        <p>
                            Xin chào <strong th:text="${customer.fullName}">Tên khách hàng</strong>,
                        </p>

                        <p>
                            Cảm ơn bạn đã mua hàng tại <strong>BookStore</strong>.
                            Dưới đây là thông tin chi tiết đơn hàng của bạn:
                        </p>

                        <table width="100%" cellpadding="0" cellspacing="0">
                            <tr>
                                <td style="padding:6px 0; width:150px; color:#777;">Mã đơn hàng:</td>
                                <td th:text="${order.orderId}">DH001</td>
                            </tr>

                            <tr>
                                <td style="padding:6px 0; color:#777;">Ngày đặt:</td>
                                <td th:text="${#dates.format(order.orderDate,'dd/MM/yyyy HH:mm')}">
                                    01/01/2025 10:00
                                </td>
                            </tr>

                            <tr>
                                <td style="padding:6px 0; color:#777;">Trạng thái:</td>
                                <td th:text="${order.status}">Pending</td>
                            </tr>

                            <tr>
                                <td style="padding:6px 0; color:#777;">Phương thức thanh toán:</td>
                                <td th:text="${order.paymentMethod}">COD</td>
                            </tr>

                            <tr>
                                <td style="padding:6px 0; color:#777;">Địa chỉ giao hàng:</td>
                                <td th:text="${order.address}">
                                    123 Đường ABC, TP.HCM
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- TITLE -->
                <tr>
                    <td style="padding:0 20px;">
                        <h3 style="margin:0; padding-bottom:10px; border-bottom:2px solid #1976d2;">
                            Chi tiết sản phẩm
                        </h3>
                    </td>
                </tr>

                <!-- ORDER DETAIL TABLE -->
                <tr>
                    <td style="padding:10px 20px 20px 20px;">
                        <table width="100%" cellpadding="0" cellspacing="0"
                               style="border-collapse:collapse; font-size:14px;">

                            <thead>
                            <tr style="background:#e3f2fd;">
                                <th align="left" style="padding:10px; border-bottom:1px solid #ccc;">Sản phẩm</th>
                                <th align="center" style="padding:10px; border-bottom:1px solid #ccc;">SL</th>
                                <th align="right" style="padding:10px; border-bottom:1px solid #ccc;">Đơn giá</th>
                                <th align="right" style="padding:10px; border-bottom:1px solid #ccc;">Thành tiền</th>
                            </tr>
                            </thead>

                            <tbody>
                            <tr th:each="d : ${details}">
                                <td style="padding:10px; border-bottom:1px solid #eee;">
                                    <span th:text="${d.book.title}">Tên sách</span>
                                </td>

                                <td align="center" style="padding:10px; border-bottom:1px solid #eee;">
                                    <span th:text="${d.quantity}">1</span>
                                </td>

                                <td align="right" style="padding:10px; border-bottom:1px solid #eee;">
                                        <span th:text="${#numbers.formatDecimal(d.unitPrice,0,'COMMA',0,'POINT')}">
                                            100.000
                                        </span>
                                </td>

                                <td align="right" style="padding:10px; border-bottom:1px solid #eee;">
                                        <span th:text="${#numbers.formatDecimal(d.quantity * d.unitPrice,0,'COMMA',0,'POINT')}">
                                            100.000
                                        </span>
                                </td>
                            </tr>
                            </tbody>

                        </table>
                    </td>
                </tr>

                <!-- TOTAL -->
                <tr>
                    <td style="padding:20px;">
                        <table width="100%">
                            <tr>
                                <td align="right" style="font-size:18px; font-weight:bold;">
                                    Tổng thanh toán:
                                </td>
                                <td align="right" style="font-size:18px; font-weight:bold; color:#d32f2f;">
                                    <span th:text="${#numbers.formatDecimal(order.totalAmount,0,'COMMA',0,'POINT')}">
                                        200.000
                                    </span> đ
                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>

                <!-- FOOTER -->
                <tr>
                    <td style="padding:15px 20px; background:#fafafa; font-size:12px; color:#777;">
                        Nếu bạn cần hỗ trợ, hãy reply email này hoặc gọi hotline
                        <strong>0123 456 789</strong>.<br>
                        Cảm ơn bạn đã mua hàng tại <strong>BookStore</strong>!
                    </td>
                </tr>

            </table>

        </td>
    </tr>
</table>

</body>
</html>
